---
title: "raw"
bibliography: sebald.bib
echo: false
warning: false
params:
  reload: false
---

## A few mentions on *Austerlitz*

```{r}
#| echo: false
#print(params)
#use_predata<-!params$reload
# predata<-paste0(Sys.getenv("GIT_TOP"),"/SPUND-LX/szondi/docufiction/wg-sebald/preprocessed.RData")
predata<-"./preprocessed.RData"
```
```{r}
#| label: setup
#| include: false
#use_predata <- params$use_predata
```

```{r}
#| eval: !expr 'params$reload'

get.meta<-function(text){
t<-readLines(paste0(Sys.getenv("HKW_TOP"),"/AVL/2025/dokufiktion/",text))
w1<-strsplit(t," ")
w2<-unlist(w1)
wl<-length(w2)
w3<-unique(w2)
ttr<-round(length(w3)/wl,2)
t1<-strsplit(w2,"")
t2<-unlist(t1)
tl<-lapply(t1,length)
tl<-unlist(tl)
tlmn<-round(mean(tl),2)
return(list(wl=wl,tlmn=tlmn,ttr=ttr))
}
meta1<-get.meta("sebald_austerlitz.txt")
meta2<-get.meta("mann_joseph.txt")
meta3<-get.meta("musil_me.txt")
tabmeta<-data.frame(author=c("sebald","mann","musil"),book=c("austerlitz","joseph und seine brüder","der mann ohne eigenschaften"),words=c(meta1$wl,meta2$wl,meta3$wl),avg_wordlength=c(meta1$tlmn,meta2$tlmn,meta3$tlmn),ttr=c(meta1$ttr,meta2$ttr,meta3$ttr))
print("reload...")
# snc change.2
```

```{r}
#| eval: !expr '!params$reload'
print("load preprocessed...")
#print(predata)
load(predata)

```

## now data
Sebalds *Austerlitz* contains not more than `{r} meta1$wl` words, the mean word length is `{r} meta1$tlmn` characters. The type/token ratio, an indicator for lexical diversity of a text, is `{r} meta1$ttr` (cf. @tbl-meta for comparison). So we have here a text with significantly more unique tokens over all types (= verhältnismäszig abwechslungsreicher text) as the two other books.

```{r}
#| label: tbl-meta
#| tbl-cap: "stats comparison of major oeuvres of german literature"

knitr::kable(tabmeta)

```

{{< include _raw-ul.md >}}


```{r}
#| echo: false

rm(params)
#save.image(file = predata)

```